allprojects {
    task info doLast { task -> println "Task $task.project.name loaded"}
    task clearJarCopys doLast { delete "${buildDir}/jarCopys" }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'
	apply plugin: 'idea'
	
    repositories {
        jcenter()
        mavenCentral()
    }
	
    uploadArchives {
        repositories {
            flatDir {
                dirs 'versions'
            }
        }
    }
}


task copyJars(type: Copy) {
    from subprojects.collect { it.tasks.withType(Jar) }
    into "$buildDir/jarCopys"
}

task copyAddons(type: Copy){
    from subprojects.collect { it.tasks.withType(Jar) }
    into System.getProperty("user.home") + "/.servercontroller/addons"
}